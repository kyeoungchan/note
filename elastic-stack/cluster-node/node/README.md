# 💻 노드

## ✅ 노드란
- 엘라스틱서치에서 클러스터를 구성하는 요소를 노드(node)라고 한다(하나의 인스턴스다).  
- 클러스터는 여러 노드의 집합인데, 노드는 엘라스틱서치가 설치되는 물리적 혹은 논리적 단위다.
  - 일반적으로 하나의 컴퓨터(혹은 서버)에 하나의 노드를 구성하는데, 물리적인 서버뿐만 아니라 논리 혹은 가상 서버로도 노드를 구분한다.
- 물리적인 서버 하나에 노드 하나를 구성하는 방식을 권장하지만, 단일 서버에 복수의 노드를 설치할 수도 있다.
- 클러스터에 참여하는 노드 이름은 중복돼서는 안 된다.
- 하나의 노드가 여러 역할을 할 수 있다.

<br>

### 💡 마스터 노드
클러스터는 반드시 하나의 마스터 노드(master node)를 가져야 한다.

<br>

아래를 포함하여 클러스터의 모든 상태 정보를 관리한다.
1. 인덱스의 설정
2. 매핑 정보
3. 물리적 위치
4. 클러스터 설정 정보
5. 인덱스 템플릿 정보

<br>

각 노드들과 통신하면서 클러스터의 변화를 모니터링한다.

마스터 노드가 없으면 클러스터가 멈춘다.  
→ 다수의 마스터 후보 노드가 투표를 통해 결정한다.  
→ 사용자는 마스터 후보 노드(master-eligible node)만 지정할 수 있다.
→ 클러스터 내부에서 N/2 + 1(N은 마스터 후보 노드 수) 표를 얻은 마스터 후보 노드가 과반수에 의해 마스터 노드가 된다.

<br>

**출처**  
[엘라스틱 스택 개발부터 운영까지](https://product.kyobobook.co.kr/detail/S000001932755)